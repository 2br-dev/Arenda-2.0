(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(28),o=n.n(l),c=(n(62),n(6)),i=n(7),s=n(12),u=n(10),m=n(11),d=n(114),p=n(115),h=n(116),f=n(3),g=n(4),E=n(113),b=(n(64),n(5));function v(){var e=Object(g.a)(["\n  a {\n    color: #fff;\n  }\n  background: #000;\n"]);return v=function(){return e},e}var y=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){fetch("".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"http://arenda.local/api/user/logout.php")).catch(function(e){return console.log(e)})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement("input",{type:"checkbox",className:"hamburger",id:"hamburger"}),r.a.createElement("label",{htmlFor:"hamburger",className:"icon"}),r.a.createElement("nav",{role:"navigation"},r.a.createElement("ul",null,"/account"!==window.location.pathname?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(E.a,{to:"/reestr",onClick:function(){return e.props.handleChangeUrl("reestr")}},"\u0420\u0435\u0435\u0441\u0442\u0440 \u0430\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440\u043e\u0432")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/bills",onClick:function(){return e.props.handleChangeUrl("bills")}},"\u0412\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0447\u0435\u0442\u043e\u0432")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/print",onClick:function(){return e.props.handleChangeUrl("print")}},"\u041f\u0435\u0447\u0430\u0442\u044c \u0441\u0447\u0435\u0442\u043e\u0432")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/payments",onClick:function(){return e.props.handleChangeUrl("payments")}},"\u041e\u043f\u043b\u0430\u0442\u044b"))):null,r.a.createElement(_,null,r.a.createElement(E.a,{to:"",onClick:this.logout.bind(this)},"\u0412\u044b\u0439\u0442\u0438")))))}}]),t}(a.Component),_=b.a.li(v()),k=n(17),w=n(2),O=n.n(w),x=(n(70),function(){return r.a.createElement("div",{className:"loader"})}),C=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,[{key:"hideRenters",value:function(){"/reestr"===window.location.pathname&&O()(".renter").each(function(){O()(this).children(".renter-contract").length>0||O()(this).hide()})}},{key:"getNumberOfMonth",value:function(e){var t="00";switch(e){case"\u042f\u043d\u0432\u0430\u0440\u044c":t="01";break;case"\u0424\u0435\u0432\u0440\u0430\u043b\u044c":t="02";break;case"\u041c\u0430\u0440\u0442":t="03";break;case"\u0410\u043f\u0440\u0435\u043b\u044c":t="04";break;case"\u041c\u0430\u0439":t="05";break;case"\u0418\u044e\u043d\u044c":t="06";break;case"\u0418\u044e\u043b\u044c":t="07";break;case"\u0410\u0432\u0433\u0443\u0441\u0442":t="08";break;case"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c":t="09";break;case"\u041e\u043a\u0442\u044f\u0431\u0440\u044c":t="10";break;case"\u041d\u043e\u044f\u0431\u0440\u044c":t="11";break;case"\u0414\u0435\u043a\u0430\u0431\u0440\u044c":t="12"}return t}},{key:"setCookie",value:function(e,t,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var r="expires="+a.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}},{key:"getCookie",value:function(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var r=n[a];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""}},{key:"checkCookie",value:function(){var e=this.getCookie("username");""!==e?alert("Welcome again "+e):""!==(e=prompt("Please enter your name:",""))&&null!=e&&this.setCookie("username",e,365)}}]),e}();function j(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n  padding: 0 10px;\n  :hover {\n    background: lightblue;\n    transition: .37s ease;\n  }\n  div {\n    padding: 0 10px;\n  }\n  p {\n    font-size: 14px;\n    pointer-events: none;\n  }\n"]);return j=function(){return e},e}function S(){var e=Object(g.a)(["\n  p {\n    text-align: left;\n    font-size: 12px;\n    line-height: 7px;\n  }\n"]);return S=function(){return e},e}function T(){var e=Object(g.a)(["\n  p {\n    text-align: left;\n    font-size: 14px;\n    line-height: 7px;\n  }\n"]);return T=function(){return e},e}function R(){var e=Object(g.a)(["\n  width: 600px;\n  margin: 0 auto;\n  text-align: center;\n  h2 {\n    font-size: 18px;\n    padding: 10px 0;\n    margin: 0;\n    cursor: pointer;\n    border-bottom: 1px solid #2323;\n    :hover {\n      background: lightblue;\n      transition: .37s ease;\n    }\n  }\n"]);return R=function(){return e},e}var N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggleRenterDetails=function(e){return O()(e.target).siblings(".renter-details").slideToggle()},n.toggleContractDetails=function(e){return O()(e.target).siblings(".details").slideToggle()},n.state={visible:1,loading:!0},n.getRenters=n.getRenters.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;this.setState({loading:!0}),O.a.ajax({url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/renters/read.php"),type:"POST",success:function(e){t.props.getRenters(e)},error:function(e){console.log(e)}});var n=new FormData;n.append("visible",this.state.visible),O.a.ajax({url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/contract/read.php"),data:n,processData:!1,contentType:!1,type:"POST",success:function(e){t.props.getContracts(e)},error:function(e){console.log(e)}}),setTimeout(function(){e.setState({loading:!1}),(new C).hideRenters()},500)}},{key:"getRenters",value:function(e){var t=this;e.preventDefault();var n=this;this.setState({loading:!0}),1===this.state.visible?this.setState({visible:0}):this.setState({visible:1}),O.a.ajax({url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/renters/read.php"),type:"POST",success:function(e){n.props.getRenters(e)},error:function(e){console.log(e)}});var a=new FormData;a.append("visible",1===this.state.visible?0:1),O.a.ajax({url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/contract/read.php"),data:a,processData:!1,contentType:!1,type:"POST",success:function(e){n.props.getContracts(e)},error:function(e){console.log(e)}}),setTimeout(function(){t.setState({loading:!1}),(new C).hideRenters()},500)}},{key:"render",value:function(){var e=this,t=this.props.testStore,n=this.state,a=n.visible,l=n.loading;return r.a.createElement("div",{className:"container"},l?r.a.createElement(x,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("button",{onClick:this.getRenters,className:"btn",style:{marginBottom:"30px"},id:"showAllbtn"},a?"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435\u0445 \u0430\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440\u043e\u0432":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c\u0438 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430\u043c\u0438")),t.renters.map(function(n,a){return r.a.createElement(F,{key:"renter-".concat(a),onClick:e.toggleRenterDetails,className:"renter"},r.a.createElement("h2",null,n.short_name," \u2014 \u0411\u0430\u043b\u0430\u043d\u0441:",n.balance>0?r.a.createElement("span",{style:{color:"green"}}," ",n.balance," \u20bd "):r.a.createElement("span",{style:{color:"red"}}," ",n.balance," \u20bd")),r.a.createElement(A,{style:{display:"none"},className:"renter-details"},r.a.createElement("p",null,r.a.createElement("b",null,"\u0418\u041d\u041d:")," ",n.inn," / ",r.a.createElement("b",null,"\u041a\u041f\u041f:")," ",n.kpp),r.a.createElement("p",null,r.a.createElement("b",null,"\u041e\u0413\u0420\u041d/\u041e\u0413\u0420\u041d\u0418\u041f:")," ",n.ogrn),r.a.createElement("p",null,r.a.createElement("b",null,"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441:")," ",n.uridich_address),r.a.createElement("p",null,r.a.createElement("b",null,"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441:")," ",n.post_adress),r.a.createElement("p",null,r.a.createElement("b",null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:")," ",n.phone),r.a.createElement("p",null,r.a.createElement("b",null,"E-mail:")," ",n.email),r.a.createElement("p",null,r.a.createElement("b",null,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430:")," ",n.bank_name),r.a.createElement("p",null,r.a.createElement("b",null,"\u0411\u0418\u041a:")," ",n.bank_bik),r.a.createElement("p",null,r.a.createElement("b",null,"\u041a\u043e\u0440. \u0441\u0447\u0435\u0442:")," ",n.bank_ks),r.a.createElement("p",null,r.a.createElement("b",null,"\u0420\u0430\u0441\u0447\u0435\u0442\u043d\u044b\u0439 \u0441\u0447\u0435\u0442:")," ",n.bank_rs)),t.contracts.map(function(t,a){if(t.renter_id===n.id)return r.a.createElement(I,{"data-status":t.status,key:"contract-".concat(a),className:"renter-contract"},r.a.createElement(D,{onClick:e.toggleContractDetails},""!==t.end_date?r.a.createElement("p",null,t.number," \u043e\u0442 ",t.datetime):r.a.createElement("p",null,t.number," \u043e\u0442 ",t.datetime," ",r.a.createElement("i",null,"(\u0431\u0435\u0437\u0441\u0440\u043e\u0447\u043d\u043e)")),"0"===t.status?r.a.createElement("span",{style:{color:"red"}},"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0439"):"0.5"===t.status?r.a.createElement("span",{style:{color:"yellow"}},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0434\u043e: ",t.end_date):r.a.createElement("span",{style:{color:"green"}},"\u0414\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439")),r.a.createElement("div",{style:{display:"none"},className:"details"},r.a.createElement("p",null,r.a.createElement("b",null,"\u041f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435:")," ",t.room_number),r.a.createElement("p",null,r.a.createElement("b",null,"\u041d\u043e\u043c\u0435\u0440 \u043d\u0430 \u0441\u0445\u0435\u043c\u0435:")," ",t.number_scheme),r.a.createElement("p",null,r.a.createElement("b",null,"\u041f\u043b\u043e\u0449\u0430\u0434\u044c:")," ",t.square),r.a.createElement("p",null,r.a.createElement("b",null,"\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430:")," ",t.summa),r.a.createElement("p",null,r.a.createElement("b",null,"\u0421\u0440\u043e\u043a \u0410\u0440\u0435\u043d\u0434\u044b:")," \u0441 ",t.start_date," \u043f\u043e ",t.end_date),r.a.createElement("p",null,r.a.createElement("b",null,"\u0420\u0430\u0437\u043c\u0435\u0440 \u043f\u0435\u043d\u0438:")," ",t.peni),r.a.createElement("p",null,r.a.createElement("b",null,"\u0410\u0440\u0435\u043d\u0434\u0430 \u043d\u0430\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f \u0441:")," ",t.start_date)))}))})))}}]),t}(a.Component),F=b.a.div(R()),A=b.a.div(T()),I=b.a.div(S()),D=b.a.div(j()),M=Object(k.b)(function(e){return{testStore:e}},function(e){return{getContracts:function(t){e({type:"FETCH_CONTRACTS",payload:t})},getRenters:function(t){e({type:"FETCH_RENTERS",payload:t})},getRooms:function(t){e({type:"FETCH_ROOMS",payload:t})}}})(N),L=(n(72),n(74),function(e){return r.a.createElement(r.a.Fragment,null,e.visible?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"modal",className:"modal bounceInDown animated"},r.a.createElement("button",{className:"close",onClick:e.toggleModal}),r.a.createElement("p",null,e.text)),r.a.createElement("div",{className:"black-wrapper",onClick:e.toggleModal})):null)});function P(){var e=Object(g.a)(["\n  margin-bottom: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  p {\n    font-size: 14px;\n    margin: 0;\n    margin-right: 10px;\n  }\n\n  input {\n    width: 100px;\n  }\n\n  div {\n    display: flex;\n    align-items: center;\n  }\n"]);return P=function(){return e},e}function H(){var e=Object(g.a)(["\n  width: 800px;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  input[type='number'] {\n    margin-left: 10px;\n    width: 50px;\n    text-align: center;\n  }\n"]);return H=function(){return e},e}function U(){var e=Object(g.a)(["\n  width: 800px;\n  margin: 0 auto;\n"]);return U=function(){return e},e}function V(){var e=Object(g.a)(["\n  display: flex;\n  margin-top: 10px;\n"]);return V=function(){return e},e}function B(){var e=Object(g.a)(["\n  display: flex;\n  margin-top: 10px;\n"]);return B=function(){return e},e}function Y(){var e=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  p {\n    font-weight: bold;\n    margin-right: 15px;\n  }\n"]);return Y=function(){return e},e}var z=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggleModal=function(){return n.setState({modal:!1,modalText:""})},n.handleChangeFromFirstValue=function(e){return n.setState({fromFirstValue:e.target.value})},n.setTodayDate=function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1;return t<10&&(t="0"+t),n<10&&(n="0"+n),e.getFullYear()+"-"+n+"-"+t},n.handleCheck=function(e){var t=O()(e.target).data("id");O()(e.target).prop("checked")?O()("input[name='period_sum'][data-id=".concat(t,"]")).prop("disabled",!1):O()("input[name='period_sum'][data-id=".concat(t,"]")).prop("disabled",!0)},n.state={fromFirstValue:1,today:n.setTodayDate(),loading:!0,modal:!1,modalText:""},n.openModal=n.openModal.bind(Object(f.a)(Object(f.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/contract/read_all.php")).then(function(e){return e.json()}).then(function(t){return e.props.getContracts(t)}).then(function(){return e.setState({loading:!1})})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this,n=[],a=[],r=[],l=0;t.setState({modal:!1}),O()("input[name='renter']:checked").each(function(){n.push(O()(this).val()),a.push(O()(this).data("id")),r.push(O()(this).data("sum"))}),O()("input[name='period_sum']:enabled").each(function(){""===O()(this).val()?l++:(r[l]=O()(this).val(),l++)}),r=r.map(function(e){return parseFloat(e.replace(/,/g,".")).toFixed(2)});var o={year:O()("input[name='year']:checked").val(),month:O()("input[name='month']:checked").val(),renter:n,from_first:O()("input[name='from_first']:checked").val(),from_first_number:O()("input[type='number']").val(),date:O()("input[name='date']").val(),summa_id:a,period_sum:r};o.month&&o.year&&0!==o.renter.length?(O()("input[name='period_sum']").prop("disabled",!0),O.a.ajax({type:"POST",url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/actions/vystavlenie_scheta.php"),data:o,success:function(e){1===e.result?(O()("#vystavlenie-schetov").trigger("reset"),t.openModal("\u0421\u0447\u0451\u0442 \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e!")):t.openModal("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a.")},error:function(e){console.log(e)}})):t.openModal("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f")}},{key:"openModal",value:function(e){this.setState({modal:!0,modalText:e})}},{key:"createRadio",value:function(e,t){return r.a.createElement("label",{className:"container-radio"},e,r.a.createElement("input",{name:t,type:"radio",value:e}),r.a.createElement("span",{className:"checkmark"}))}},{key:"createCheckbox",value:function(e,t,n,a,l,o){return r.a.createElement(K,{key:o},r.a.createElement("label",{className:"container-checkbox"},r.a.createElement("b",null,e)," - ",t,r.a.createElement("input",{type:"checkbox",name:"renter","data-sum":n,"data-id":a,value:l,onClick:this.handleCheck}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("div",null,r.a.createElement("p",null,"\u041f\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443: ",r.a.createElement("b",null,n,"\u20bd")),r.a.createElement("input",{type:"text","data-id":a,disabled:!0,name:"period_sum"})))}},{key:"render",value:function(){var e=this,t=this.state,n=t.fromFirstValue,a=t.loading;return r.a.createElement("div",{className:"container"},a?r.a.createElement(x,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(G,null,r.a.createElement("p",{className:"date-error"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443:"),r.a.createElement("input",{type:"date",name:"date",value:this.state.today,id:"date",onChange:function(t){return e.setState({today:t.target.value})}})),r.a.createElement("hr",null),r.a.createElement(X,{onSubmit:this.hadleSubmit,id:"vystavlenie-schetov",method:"POST",action:""},r.a.createElement("p",{className:"error renter-error"},r.a.createElement("strong",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u0438\u043b\u0438 \u0431\u043e\u043b\u0435\u0435 \u0434\u043e\u0433\u043e\u0432\u043e\u0440:")),this.props.testStore.contracts.map(function(t,n){return e.createCheckbox(t.short_name,t.contract_number,t.summa,t.contract_id,t.renter_id,n)}),r.a.createElement("hr",null),r.a.createElement("span",{className:"error year-error"},r.a.createElement("strong",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0434:")),r.a.createElement(W,null,this.createRadio("2016","year"),this.createRadio("2017","year"),this.createRadio("2018","year"),this.createRadio("2019","year"),this.createRadio("2020","year")),r.a.createElement("hr",null),r.a.createElement("span",{className:"error month-error"},r.a.createElement("strong",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u044f\u0446:")),r.a.createElement(J,null,r.a.createElement("span",null,this.createRadio("\u042f\u043d\u0432\u0430\u0440\u044c","month"),this.createRadio("\u0424\u0435\u0432\u0440\u0430\u043b\u044c","month"),this.createRadio("\u041c\u0430\u0440\u0442","month")),r.a.createElement("span",null,this.createRadio("\u0410\u043f\u0440\u0435\u043b\u044c","month"),this.createRadio("\u041c\u0430\u0439","month"),this.createRadio("\u0418\u044e\u043d\u044c","month")),r.a.createElement("span",null,this.createRadio("\u0418\u044e\u043b\u044c","month"),this.createRadio("\u0410\u0432\u0433\u0443\u0441\u0442","month"),this.createRadio("\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","month")),r.a.createElement("span",null,this.createRadio("\u041e\u043a\u0442\u044f\u0431\u0440\u044c","month"),this.createRadio("\u041d\u043e\u044f\u0431\u0440\u044c","month"),this.createRadio("\u0414\u0435\u043a\u0430\u0431\u0440\u044c","month"))),r.a.createElement("hr",null),r.a.createElement(q,null,r.a.createElement("label",{className:"container-checkbox"},r.a.createElement("strong",null,"\u041d\u0430\u0447\u0430\u0442\u044c \u043d\u0443\u043c\u0435\u0440\u0430\u0446\u0438\u044e \u0441"),r.a.createElement("input",{type:"checkbox",name:"from_first"}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("input",{name:"from_first_number",type:"number",value:n,onChange:this.handleChangeFromFirstValue}))),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn",type:"submit",onClick:this.handleSubmit},"\u0412\u044b\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0447\u0451\u0442")),this.state.modal?r.a.createElement(L,{text:this.state.modalText,visible:this.state.modal,toggleModal:this.toggleModal}):null)}}]),t}(a.Component),G=b.a.div(Y()),W=b.a.div(B()),J=b.a.div(V()),X=b.a.form(U()),q=b.a.div(H()),K=b.a.div(P()),Q=Object(k.b)(function(e){return{testStore:e}},function(e){return{getContracts:function(t){e({type:"FETCH_ALL_CONTRACTS",payload:t})}}})(z),Z=n(50),$=n.n(Z);function ee(){var e=Object(g.a)(["\n  a {\n    margin-right: 25px;\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  span {\n    display: flex;\n    align-items: center;\n    img {\n      margin-left: 10px;\n    }\n  }\n\n  .btn {\n    text-transform: capitalize;\n    margin: unset;\n    padding: 7px 25px 10px;\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(g.a)(["\n  color: #fff;\n  background: #232323;\n  border: 0;\n  padding: 10px 20px;\n  border-radius: 10px;\n  margin-bottom: 15px;\n  width: 300px;\n  position: absolute;\n  left: 0;\n  right: 0;\n  margin: auto;\n  top: 50px;\n"]);return ne=function(){return e},e}function ae(){var e=Object(g.a)(["\n  display: flex;\n  margin-top: 10px;\n"]);return ae=function(){return e},e}function re(){var e=Object(g.a)(["\n  display: flex;\n  margin-top: 10px;\n"]);return re=function(){return e},e}function le(){var e=Object(g.a)(["\n  margin-bottom: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  p {\n    font-size: 14px;\n    margin: 0;\n    margin-right: 10px;\n  }\n\n  input {\n    width: 100px;\n  }\n\n  div {\n    display: flex;\n    align-items: center;\n  }\n"]);return le=function(){return e},e}var oe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),n.setState({modal:!1});var t=n.state,a=t.selectedRenter,r=t.selectedMonth,l=t.selectedYear,o=Object(f.a)(Object(f.a)(n)),c={year:l,month:(new C).getNumberOfMonth(r),renter:a};c.year?O.a.ajax({type:"POST",url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/invoice/read.php"),data:c,success:function(e){1===e.result?(O()("#pechat-schetov").trigger("reset"),o.setState({selectedRenter:"",selectedMonth:"",selectedYear:""}),o.props.getInvoices(e.invoices),0===e.invoices.length&&o.openModal("\u041d\u0435\u0442 \u0441\u0447\u0435\u0442\u043e\u0432 \u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434.")):o.openModal("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a.")},error:function(e){console.log(e)}}):o.openModal("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0434")},n.toggleModal=function(){return n.setState({modal:!1,modalText:""})},n.selectRenter=function(e){return n.setState({selectedRenter:e.target.value})},n.handleSelectMonth=function(e){return n.setState({selectedMonth:e.target.value})},n.handleSelectYear=function(e){return n.setState({selectedYear:e.target.value})},n.state={loading:!0,selectedRenter:"",selectedMonth:"",selectedYear:"",modal:!1,modalText:""},n.openModal=n.openModal.bind(Object(f.a)(Object(f.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(Object(f.a)(n))),n.handleDelete=n.handleDelete.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/renters/read.php")).then(function(e){return e.json()}).then(function(t){return e.props.getRenters(t)}).then(function(){return e.setState({loading:!1})})}},{key:"handleDelete",value:function(e){var t=this,n=e.target.dataset.invoice;O.a.ajax({type:"POST",url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/invoice/delete.php"),data:{invoice_id:e.target.dataset.invoice,contract:e.target.dataset.contract},success:function(e){console.log(e),t.props.filterInvoices(t.props.testStore.invoices.filter(function(e){return e.id!==n}))},error:function(e){console.log(e)}})}},{key:"openModal",value:function(e){this.setState({modal:!0,modalText:e})}},{key:"createRadio",value:function(e,t){return r.a.createElement("label",{className:"container-radio"},e,r.a.createElement("input",{name:t,type:"radio",value:e,onClick:"year"===t?this.handleSelectYear:this.handleSelectMonth}),r.a.createElement("span",{className:"checkmark"}))}},{key:"createCheckbox",value:function(e,t,n,a,l,o){return r.a.createElement(ce,{key:o},r.a.createElement("label",{className:"container-checkbox"},r.a.createElement("b",null,e)," - ",t,r.a.createElement("input",{type:"checkbox",name:"renter","data-sum":n,"data-id":a,value:l,onClick:this.handleCheck}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("div",null,r.a.createElement("p",null,"\u041f\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443: ",r.a.createElement("b",null,n,"\u20bd")),r.a.createElement("input",{type:"text","data-id":a,disabled:!0,name:"period_sum"})))}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,a=t.selectedRenter,l=this.props.testStore;return r.a.createElement("section",{className:"container",style:{width:"800px",paddingTop:"100px"}},n?r.a.createElement(x,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,{name:"selected-renter",onChange:this.selectRenter},r.a.createElement("option",{selected:!0,disabled:!0,hidden:!0,value:a},"\u0412\u0441\u0435 \u0430\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440\u044b"),""!==a?r.a.createElement("option",{value:"0"},"\u0412\u0441\u0435 \u0430\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440\u044b"):null,l.renters.map(function(e,t){return r.a.createElement("option",{key:t,value:e.full_name},e.short_name)})),r.a.createElement("hr",null),r.a.createElement("form",{id:"pechat-schetov",action:"",method:"post",onSubmit:this.handleSubmit,style:{marginBottom:"50px"}},r.a.createElement("p",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0434:"),r.a.createElement(ie,null,this.createRadio("2016","year"),this.createRadio("2017","year"),this.createRadio("2018","year"),this.createRadio("2019","year"),this.createRadio("2020","year")),r.a.createElement("hr",null),r.a.createElement("p",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u044f\u0446:"),r.a.createElement(se,null,r.a.createElement("span",null,this.createRadio("\u042f\u043d\u0432\u0430\u0440\u044c","month"),this.createRadio("\u0424\u0435\u0432\u0440\u0430\u043b\u044c","month"),this.createRadio("\u041c\u0430\u0440\u0442","month")),r.a.createElement("span",null,this.createRadio("\u0410\u043f\u0440\u0435\u043b\u044c","month"),this.createRadio("\u041c\u0430\u0439","month"),this.createRadio("\u0418\u044e\u043d\u044c","month")),r.a.createElement("span",null,this.createRadio("\u0418\u044e\u043b\u044c","month"),this.createRadio("\u0410\u0432\u0433\u0443\u0441\u0442","month"),this.createRadio("\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","month")),r.a.createElement("span",null,this.createRadio("\u041e\u043a\u0442\u044f\u0431\u0440\u044c","month"),this.createRadio("\u041d\u043e\u044f\u0431\u0440\u044c","month"),this.createRadio("\u0414\u0435\u043a\u0430\u0431\u0440\u044c","month"))),r.a.createElement("hr",null),r.a.createElement("input",{type:"submit",value:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",className:"btn"})),l.invoices.map(function(t,n){return r.a.createElement("div",{key:n,style:{marginBottom:"30px"}},r.a.createElement(me,null,r.a.createElement("div",null,r.a.createElement("p",{style:{margin:"0"}},r.a.createElement("b",null,t.renter)),r.a.createElement("p",{style:{margin:"0"}}," \u2116 \u0441\u0447\u0451\u0442\u0430: ",r.a.createElement("b",null,t.invoice_number),", \u043d\u0430 \u0441\u0443\u043c\u043c\u0443: ",r.a.createElement("b",null,t.summa,"\u20bd"),", \u043e\u0442: ",r.a.createElement("b",null,t.invoice_date))),r.a.createElement("span",{onClick:e.handleDelete,className:"btn","data-invoice":t.id,"data-contract":t.contract_id},"\u0443\u0434\u0430\u043b\u0438\u0442\u044c",r.a.createElement("img",{src:$.a,alt:""}))),r.a.createElement("hr",null),r.a.createElement("div",null,t.summa>t.discount?r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null,r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sch&pr=0&disc=0"),target:"_blank",rel:"noopener noreferrer"},"\u0421\u0447\u0435\u0442"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=akt&pr=0&disc=0"),target:"_blank",rel:"noopener noreferrer"},"\u0410\u043a\u0442"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sf&pr=0&disc=0"),target:"_blank",rel:"noopener noreferrer"},"\u0421\u0447\u0435\u0442-\u0444\u0430\u043a\u0442\u0443\u0440\u0430")),r.a.createElement(de,null,r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sch&pr=1&disc=0"),target:"_blank",rel:"noopener noreferrer"},"\u0421\u0447\u0435\u0442+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=akt&pr=1&disc=0"),target:"_blank",rel:"noopener noreferrer"},"\u0410\u043a\u0442+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sf&pr=1&disc=0"),target:"_blank",rel:"noopener noreferrer"},"\u0421\u0447\u0435\u0442-\u0444\u0430\u043a\u0442\u0443\u0440\u0430+\u043f\u0435\u0447\u0430\u0442\u044c"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null,r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sch&pr=0&disc=1"),target:"_blank",rel:"noopener noreferrer"},"\u0421\u0447\u0435\u0442 (\u0441\u043e \u0441\u043a\u0438\u0434\u043a\u043e\u0439)"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=akt&pr=0&disc=1"),target:"_blank",rel:"noopener noreferrer"},"\u0410\u043a\u0442 (\u0441\u043e \u0441\u043a\u0438\u0434\u043a\u043e\u0439)"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sf&pr=0&disc=1"),target:"_blank",rel:"noopener noreferrer"},"\u0421\u0447\u0435\u0442-\u0444\u0430\u043a\u0442\u0443\u0440\u0430 (\u0441\u043e \u0441\u043a\u0438\u0434\u043a\u043e\u0439)")),r.a.createElement(de,null,r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sch&pr=1&disc=1"),target:"_blank",rel:"noopener noreferrer"},"\u0421\u0447\u0435\u0442 (\u0441\u043e \u0441\u043a\u0438\u0434\u043a\u043e\u0439)+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=akt&pr=1&disc=1"),target:"_blank",rel:"noopener noreferrer"},"\u0410\u043a\u0442 (\u0441\u043e \u0441\u043a\u0438\u0434\u043a\u043e\u0439)+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sf&pr=1&disc=1"),target:"_blank",rel:"noopener noreferrer"},"\u0421\u0447\u0435\u0442-\u0444\u0430\u043a\u0442\u0443\u0440\u0430 (\u0441\u043e \u0441\u043a\u0438\u0434\u043a\u043e\u0439)+\u043f\u0435\u0447\u0430\u0442\u044c")))))})),this.state.modal?r.a.createElement(L,{text:this.state.modalText,visible:this.state.modal,toggleModal:this.toggleModal}):null)}}]),t}(a.Component),ce=b.a.div(le()),ie=b.a.div(re()),se=b.a.div(ae()),ue=b.a.select(ne()),me=b.a.div(te()),de=b.a.div(ee()),pe=Object(k.b)(function(e){return{testStore:e}},function(e){return{getInvoices:function(t){e({type:"FETCH_ALL_INVOICES",payload:t})},getRenters:function(t){e({type:"FETCH_ALL_RENTERS",payload:t})},filterInvoices:function(t){e({type:"DELETE_INVOICE",payload:t})}}})(oe);function he(){var e=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  b {\n    font-size: 1em;\n    margin-left: 5px;\n  }\n  margin-bottom: 10px;\n"]);return he=function(){return e},e}function fe(){var e=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  input {\n    width: 80%;\n    background: #fff;\n  }\n  margin-bottom: 10px;\n"]);return fe=function(){return e},e}function ge(){var e=Object(g.a)(["\n  margin-top: 125px;\n  text-align: center;\n  b {\n    font-size: 1.13em;\n  }\n  .btn {\n    margin-top: 30px;\n  }\n"]);return ge=function(){return e},e}function Ee(){var e=Object(g.a)(["\n  color: #fff;\n  background: #232323;\n  border: 0;\n  padding: 10px 20px;\n  border-radius: 10px;\n  margin-bottom: 15px;\n  width: 300px;\n  position: absolute;\n  left: 0;\n  right: 0;\n  margin: auto;\n  top: 50px;\n"]);return Ee=function(){return e},e}var be=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){fetch("".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/renters/read.php")).then(function(e){return e.json()}).then(function(e){return n.props.getRenters(e)}).then(function(){return n.setState({loading:!1})}).catch(function(e){return console.log(e)})},n.handleSubmit=function(e){e.preventDefault();var t=Object(f.a)(Object(f.a)(n)),a=n.state,r=a.summa,l=a.date,o=a.number,c=a.selectedRenter,i=a.selectedContract,s=n.props.testStore,u=[];O()("input[name='invoice_number']:checked").each(function(){u.push(O()(this).val())}),u.sort(n.sortNumber);var m={summa:parseFloat(r.replace(/,/g,".")).toFixed(2),date:l,number:o,renter_id:c,renter_name:s.renters.find(function(e){return e.id===c}).full_name,renter_document:s.contracts.find(function(e){return e.id===i}).number,contract_id:i,invoices:u};console.log(m),m.summa&&m.date&&m.number&&m.renter_name&&m.renter_document&&m.contract_id&&0!==m.invoices.length?O.a.ajax({type:"POST",data:m,url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/actions/payment.php"),success:function(e){console.log(e),t.openModal("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!"),O()("#payments").trigger("reset")},error:function(e){console.log(e)}}):t.openModal("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f")},n.sortNumber=function(e,t){return e-t},n.selectRenter=function(e){""!==n.state.selectedRenter&&(n.setState({selectedContract:""}),n.props.clearContracts(),n.props.clearInvoices()),e.preventDefault();var t=Object(f.a)(Object(f.a)(n)),a=e.target;O.a.ajax({type:"POST",url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/contract/read_one.php"),data:{id:a.value},success:function(e){t.setState({selectedRenter:a.value}),t.props.getContracts(e)},error:function(e){console.log(e)}})},n.selectContract=function(e){e.preventDefault();var t=Object(f.a)(Object(f.a)(n)),a=e.target;O.a.ajax({type:"POST",url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/invoice/read_by_contract.php"),data:{id:a.value},success:function(e){t.setState({selectedContract:a.value}),t.props.getInvoices(e),0===e.length&&t.openModal("\u041d\u0435\u0442 \u0441\u0447\u0435\u0442\u043e\u0432 \u043f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c\u0443 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443")},error:function(e){console.log(e)}})},n.setToday=function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1;return t<10&&(t="0"+t),n<10&&(n="0"+n),e.getFullYear()+"-"+n+"-"+t},n.openModal=function(e){n.setState({modal:!0,modalText:e})},n.toggleModal=function(){return n.setState({modal:!1,modalText:""})},n.state={loading:!1,modal:!1,modalText:"",date:n.setToday(),summa:0,number:0,selectedRenter:"",selectedContract:""},n.setToday=n.setToday.bind(Object(f.a)(Object(f.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.date,a=t.loading,l=t.selectedRenter,o=t.selectedContract,c=this.props.testStore;return r.a.createElement("section",{className:"container",style:{width:"600px"}},a?r.a.createElement(x,null):r.a.createElement(ye,{id:"payments",method:"post",action:"",onSubmit:this.handleSubmit},r.a.createElement(ve,{name:"selected-renter",onChange:this.selectRenter},r.a.createElement("option",{selected:!0,disabled:!0,hidden:!0,value:l},""===l?"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440\u0430":c.renters.find(function(e){return e.id===l}).short_name),c.renters.map(function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.short_name)})),""!==l?r.a.createElement(ve,{name:"selected-contract",onChange:this.selectContract,style:{top:"90px"}},r.a.createElement("option",{selected:!0,hidden:o,value:o},""===o?"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u0433\u043e\u0432\u043e\u0440":c.contracts.find(function(e){return e.id===o}).number),c.contracts.map(function(e,t){return r.a.createElement("option",{key:t,name:"selected-contract",value:e.id},e.number," \u043e\u0442 ",e.datetime)})):null,c.invoices.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("hr",null),r.a.createElement(ke,{className:"container-checkbox",style:{marginBottom:"0"}},"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430 ",e.invoice_number," \u043e\u0442 ",r.a.createElement("b",null,e.invoice_date),", \u043e\u0441\u0442\u0430\u0442\u043e\u043a \u043f\u043e \u0441\u0447\u0451\u0442\u0443: ",r.a.createElement("b",null," ",e.rest),r.a.createElement("input",{name:"invoice_number",type:"checkbox",value:e.invoice_number}),r.a.createElement("span",{className:"checkmark"})))}),0!==c.invoices.length&&""!==l&&""!==o?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{marginTop:"50px"}},r.a.createElement("b",null,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0430")),r.a.createElement(_e,null,r.a.createElement("label",{htmlFor:"sum"},"\u0421\u0443\u043c\u043c\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430:"),r.a.createElement("input",{type:"text",id:"sum",name:"summa",onChange:function(t){return e.setState({summa:t.target.value})}})),r.a.createElement(_e,null,r.a.createElement("label",{htmlFor:"date"},"\u0414\u0430\u0442\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430:"),r.a.createElement("input",{type:"date",id:"date",name:"date",value:n,onChange:function(t){return e.setState({date:t.target.value})}})),r.a.createElement(_e,null,r.a.createElement("label",{htmlFor:"number"},"\u041d\u043e\u043c\u0435\u0440 \u043f\u043b\u0430\u0442\u0435\u0436\u0430:"),r.a.createElement("input",{type:"text",id:"number",name:"document_number",onChange:function(t){return e.setState({number:t.target.value})}})),r.a.createElement("hr",{style:{marginTop:"40px"}}),r.a.createElement("button",{type:"submit",className:"btn"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")):null),this.state.modal?r.a.createElement(L,{text:this.state.modalText,visible:this.state.modal,toggleModal:this.toggleModal}):null)}}]),t}(a.Component),ve=b.a.select(Ee()),ye=b.a.form(ge()),_e=b.a.div(fe()),ke=b.a.label(he()),we=Object(k.b)(function(e){return{testStore:e}},function(e){return{getRenters:function(t){e({type:"FETCH_ALL_RENTERS",payload:t})},getContracts:function(t){e({type:"FETCH_SINGLE_CONTRACT",payload:t})},getInvoices:function(t){e({type:"FETCH_INVOICES_BY_ID",payload:t})},clearContracts:function(){return e({type:"CLEAR_CONTRACTS"})},clearInvoices:function(){return e({type:"CLEAR_INVOICES"})}}})(be),Oe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChangeUrl=function(e){return n.setState({url:e})},n.switchComponent=function(){switch(n.state.url){case"":return r.a.createElement(pe,null);case"reestr":return r.a.createElement(M,null);case"bills":return r.a.createElement(Q,null);case"print":return r.a.createElement(pe,null);case"payments":return r.a.createElement(we,null);default:console.log("default")}},n.state={url:window.location.pathname.slice(1)},n.handleChangeUrl=n.handleChangeUrl.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.url;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{url:e,handleChangeUrl:this.handleChangeUrl}),this.switchComponent())}}]),t}(a.Component),xe=n(23),Ce=(n(76),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={login:"",password:"",modal:!1,modalText:"",error:!1},n.handleChange=function(e){var t;return n.setState((t={},Object(xe.a)(t,e.target.name,e.target.value),Object(xe.a)(t,"error",!1),t))},n.openModal=function(e){return n.setState({modal:!0,modalText:e})},n.toggleModal=function(){return n.setState({modal:!1,modalText:""})},n.handleSubmit=function(e){e.preventDefault();var t=Object(f.a)(Object(f.a)(n)),a=n.state,r=a.login,l={password:a.password,login:r};l.password&&l.login?O.a.ajax({type:"POST",url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/user/login.php"),data:l,success:function(e){1===e.result?((new C).setCookie("user_id",e.id,10),window.location.href="/"):t.setState({error:!0});t.setState({login:"",password:""}),O()("#authorization").trigger("reset")},error:function(e){console.log(e)}}):t.openModal("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f")},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"grid"},r.a.createElement("div",{id:"login"},r.a.createElement("h2",null,r.a.createElement("span",{className:"fontawesome-lock"}),"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"),r.a.createElement("form",{action:"",method:"POST",id:"authorization",onSubmit:this.handleSubmit.bind(this)},r.a.createElement("fieldset",null,r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"login"},"\u041b\u043e\u0433\u0438\u043d")),r.a.createElement("p",null,r.a.createElement("input",{onChange:this.handleChange,type:"text",className:"form-input",name:"login",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043b\u043e\u0433\u0438\u043d"})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c")),r.a.createElement("p",null,r.a.createElement("input",{onChange:this.handleChange,type:"password",className:"form-input",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c"})),r.a.createElement("p",null,r.a.createElement("input",{type:"submit",value:"\u0412\u043e\u0439\u0442\u0438",id:"submit"})))))),this.state.error?r.a.createElement("div",{className:"error"},r.a.createElement("div",{className:"error-msg"},r.a.createElement("img",{src:"/img/warning_white_48x48.png",alt:""}),r.a.createElement("div",{className:"error-msg-text"},r.a.createElement("p",null,r.a.createElement("strong",null,"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u043f\u0430\u0440\u0430 \u043b\u043e\u0433\u0438\u043d-\u043f\u0430\u0440\u043e\u043b\u044c! \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c")),r.a.createElement("p",null,"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0443 \u0432\u0430\u0441 \u0432\u044b\u0431\u0440\u0430\u043d\u0430 \u0434\u0440\u0443\u0433\u0430\u044f \u0440\u0430\u0441\u043a\u043b\u0430\u0434\u043a\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0438\u043b\u0438 \u043d\u0430\u0436\u0430\u0442\u0430 \u043a\u043b\u0430\u0432\u0438\u0448\u0430 'Caps Lock'.",r.a.createElement("br",null),"\u041f\u043e\u043f\u0440\u043e\u0431\u0435\u0439\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0435\u0449\u0451 \u0440\u0430\u0437.")))):null,this.state.modal?r.a.createElement(L,{text:this.state.modalText,visible:this.state.modal,toggleModal:this.toggleModal}):null)}}]),t}(a.Component)),je=n(38),Se=n.n(je),Te=n(51),Re=n(52),Ne=n.n(Re);n(109);function Fe(){var e=Object(g.a)(["\n  color: #fff;\n  background: #232323;\n  border: 0;\n  padding: 10px 20px;\n  border-radius: 10px;\n"]);return Fe=function(){return e},e}function Ae(){var e=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  span {\n    margin-bottom: 5px;\n  }\n"]);return Ae=function(){return e},e}var Ie=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChangeContract=function(e){return n.setState({contract:e.target.value})},n.onChange=function(e){return n.setState({date:e})},n.togglePeni=function(e){return O()(e.target).siblings(".peni-details").slideToggle()},n.toggleInvoice=function(e){return O()(e.target).siblings(".invoice-details").slideToggle()},n.state={loading:!0,contract:"",date:[new Date,new Date],hidden:!1},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Te.a)(Se.a.mark(function e(){var t,n,a;return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this,n=new C,a=n.getCookie("user_id"),e.next=6,O.a.ajax({url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/renters/read_one.php"),data:{id:a},type:"POST",success:function(e){t.props.getRenter(e)},error:function(e){console.log(e)}});case 6:return e.next=8,O.a.ajax({url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/contract/read_one.php"),data:{id:a},type:"POST",success:function(e){t.props.getContracts(e)},error:function(e){console.log(e)}});case 8:return e.next=10,O.a.ajax({url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/invoice/read_by_renter_fullname.php"),data:{fullname:t.props.testStore.renters[0].full_name},type:"POST",success:function(e){t.props.getInvoices(e)},error:function(e){console.log(e)}});case 10:return e.next=12,O.a.ajax({url:"".concat("localhost"===window.location.hostname?"http://arenda.local":window.location.origin,"/api/peni/read_by_renter.php"),data:{shortname:t.props.testStore.renters[0].short_name},type:"POST",success:function(e){t.props.getPeni(e)},error:function(e){console.log(e)}});case 12:return e.next=14,this.setState({loading:!1});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,a=t.contract,l=t.date,o=t.hidden,c=this.props.testStore.renters[0],i=this.props.testStore;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement(x,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement("div",{className:"container",style:{width:"700px "}},r.a.createElement("div",null,r.a.createElement("h3",{style:{marginBottom:"0"}},c.full_name),r.a.createElement("p",{style:{marginTop:"0"}},"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441: ",r.a.createElement("span",{style:c.balance>=0?{color:"green"}:{color:"red"}}," ",c.balance,"\u20bd"))),r.a.createElement("div",{style:{marginTop:"40px "}},r.a.createElement(De,null,r.a.createElement("b",null,"\u2116 \u0414\u043e\u0433\u043e\u0432\u043e\u0440\u0430"),r.a.createElement("b",null,"\u041d\u0430 \u0441\u0443\u043c\u043c\u0443")),r.a.createElement("hr",null),i.contracts.map(function(e,t){return r.a.createElement(De,{key:t},r.a.createElement("span",null,r.a.createElement("b",null,e.number," ")," \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434: ",e.start_date," - ",e.end_date),r.a.createElement("span",null,e.summa))})),r.a.createElement("div",{style:{marginTop:"40px "}},r.a.createElement(De,null,r.a.createElement("b",null,"\u0410\u043a\u0442 \u0441\u0432\u0435\u0440\u043a\u0438"),r.a.createElement(Ne.a,{onChange:this.onChange,value:this.state.date}),r.a.createElement(Me,{onChange:this.handleChangeContract},r.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u0433\u043e\u0432\u043e\u0440"),i.contracts.map(function(e,t){return r.a.createElement("option",{key:t,value:e.id},"\u2116 ",e.number,", \u043e\u0442 ",e.datetime)}))),r.a.createElement("hr",null),""!==a?r.a.createElement(r.a.Fragment,null,r.a.createElement(De,null,r.a.createElement("b",null,"\u0410\u043a\u0442 \u0441\u0432\u0435\u0440\u043a\u0438"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?con=".concat(c.id,"&ind=as&pr=0&start=").concat(l[0].toLocaleDateString(),"&end=").concat(l[1].toLocaleDateString(),"&id=").concat(a),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0410\u043a\u0442 \u0441\u0432\u0435\u0440\u043a\u0438 + \u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?con=".concat(c.id,"&ind=as&pr=0&start=").concat(l[0].toLocaleDateString(),"&end=").concat(l[1].toLocaleDateString(),"&id=").concat(a),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c"))):null),i.peni.length>0&&!o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"error-msg",style:{position:"relative",marginTop:"40px"}},r.a.createElement("img",{src:"/img/warning_white_48x48.png",alt:""}),r.a.createElement("div",{className:"error-msg-text"},r.a.createElement("p",null,r.a.createElement("strong",null,"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!")),r.a.createElement("p",null,"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u043d\u0435\u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u043f\u0435\u043d\u0438. ",r.a.createElement("br",null)," \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435 \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043d\u0430 \u0441\u0447\u0451\u0442, \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u043f\u0435\u043d\u0438.")),r.a.createElement("div",{className:"close",onClick:function(){return e.setState({hidden:!0})}})),r.a.createElement("div",{style:{marginTop:"40px "}},r.a.createElement(De,null,r.a.createElement("b",null,"\u0412\u0441\u0435 \u043f\u0435\u043d\u0438")),r.a.createElement("hr",null),i.peni.map(function(t,n){return r.a.createElement(De,{key:n},r.a.createElement("div",{style:{width:"100%"},onClick:e.togglePeni},r.a.createElement("p",{className:"renters-list-link toggle"},"\u041f\u0435\u043d\u0438 \u2116: ",t.peni_invoice," \u0437\u0430 ",t.month,", ",t.year,", \u043d\u0430 \u0441\u0443\u043c\u043c\u0443: ",t.peni," (\u043f\u0440\u043e\u0441\u0440\u043e\u0447\u043a\u0430 \u043d\u0430: ",t.delay," \u0434\u043d\u0435\u0439)"),r.a.createElement("hr",null),r.a.createElement("div",{className:"peni-details",style:{display:"none"},"data-block":t.renter_id},r.a.createElement(De,null,r.a.createElement("b",null,"\u0421\u0447\u0435\u0442"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.peni_invoice,"&ind=sch&pr=0&disc=0&peni=1"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0410\u043a\u0442"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.peni_invoice,"&ind=akt&pr=0&disc=0&peni=1"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0421\u0447\u0435\u0442-\u0444\u0430\u043a\u0442\u0443\u0440\u0430"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.peni_invoice,"&ind=sf&pr=0&disc=0&peni=1"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0421\u0447\u0435\u0442+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.peni_invoice,"&ind=sch&pr=1&disc=0&peni=1"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0410\u043a\u0442+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.peni_invoice,"&ind=akt&pr=1&disc=0&peni=1"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0421\u0447\u0435\u0442-\u0444\u0430\u043a\u0442\u0443\u0440\u0430+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.peni_invoice,"}&ind=sf&pr=1&disc=0&peni=1"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")))))}))):null,r.a.createElement("div",{style:{marginTop:"40px"}},r.a.createElement("b",null,"\u0412\u0441\u0435 \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u0447\u0435\u0442\u0430"),i.invoices.map(function(t,n){return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement("div",{onClick:e.toggleInvoice},r.a.createElement("p",{className:"toggle",style:{marginTop:"30px",marginBottom:"0"}},"\u2116 \u0441\u0447\u0451\u0442\u0430: ",t.invoice_number," \u0437\u0430 ",t.period_month,", ",t.period_year,", \u043d\u0430 \u0441\u0443\u043c\u043c\u0443: ",t.summa),r.a.createElement("hr",null),r.a.createElement("div",{className:"invoice-details",style:{display:"none"},"data-block":t.renter_id},t.summa>=t.discount?r.a.createElement(r.a.Fragment,null,r.a.createElement(De,null,r.a.createElement("b",null,"\u0421\u0447\u0435\u0442"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sch&pr=0&disc=0"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0410\u043a\u0442"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=akt&pr=0&disc=0"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0421\u0447\u0435\u0442-\u0444\u0430\u043a\u0442\u0443\u0440\u0430"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sf&pr=0&disc=0"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0421\u0447\u0435\u0442+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sch&pr=1&disc=0"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0410\u043a\u0442+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=akt&pr=1&disc=0"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0421\u0447\u0435\u0442-\u0444\u0430\u043a\u0442\u0443\u0440\u0430+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sf&pr=1&disc=0"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(De,null,r.a.createElement("b",null,"\u0421\u0447\u0435\u0442"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sch&pr=0&disc=1"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0410\u043a\u0442"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=akt&pr=0&disc=1"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0421\u0447\u0435\u0442-\u0444\u0430\u043a\u0442\u0443\u0440\u0430"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sf&pr=0&disc=1"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0421\u0447\u0435\u0442+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sch&pr=1&disc=1"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0410\u043a\u0442+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=akt&pr=1&disc=1"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")),r.a.createElement(De,null,r.a.createElement("b",null,"\u0421\u0447\u0435\u0442-\u0444\u0430\u043a\u0442\u0443\u0440\u0430+\u043f\u0435\u0447\u0430\u0442\u044c"),r.a.createElement("a",{href:"/schet-pechatnaya-forma?num=".concat(t.invoice_number,"&ind=sf&pr=1&disc=1"),target:"_blank",rel:"noopener noreferrer"},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c"))))))})))))}}]),t}(a.Component),De=b.a.div(Ae()),Me=b.a.select(Fe()),Le=Object(k.b)(function(e){return{testStore:e}},function(e){return{getRenter:function(t){e({type:"FETCH_SINGLE_RENTER",payload:t})},getContracts:function(t){e({type:"FETCH_CONTRACTS_BY_RENTER",payload:t})},getInvoices:function(t){e({type:"FETCH_INVOICES_BY_RENTER",payload:t})},getPeni:function(t){e({type:"FETCH_PENI_BY_RENTER",payload:t})}}})(Ie),Pe=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(p.a,null,r.a.createElement(h.a,{path:"/reestr",component:Oe}),r.a.createElement(h.a,{path:"/bills",component:Oe}),r.a.createElement(h.a,{path:"/print",component:Oe}),r.a.createElement(h.a,{path:"/payments",component:Oe}),r.a.createElement(h.a,{path:"/login",component:Ce}),r.a.createElement(h.a,{path:"/account",component:Le}),r.a.createElement(Oe,null)))}}]),t}(a.Component),He=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ue(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ve=n(20),Be=n(54),Ye=n(15);var ze=Object(Ve.b)({renters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RENTERS":case"FETCH_ALL_RENTERS":return Object(Ye.a)(t.payload);case"FETCH_SINGLE_RENTER":return Object(Be.a)({},t.payload);default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CONTRACTS":case"FETCH_ALL_CONTRACTS":case"FETCH_CONTRACTS_BY_RENTER":return Object(Ye.a)(t.payload);case"CLEAR_CONTRACTS":return[];default:return e}},invoices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL_INVOICES":case"DELETE_INVOICE":return Object(Ye.a)(t.payload);case"CLEAR_INVOICES":return[];case"FETCH_INVOICES_BY_RENTER":case"FETCH_INVOICES_BY_ID":return Object(Ye.a)(t.payload);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN":return[t.payload];default:return e}},peni:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PENI_BY_RENTER":return Object(Ye.a)(t.payload);default:return e}}}),Ge=Object(Ve.c)(ze,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Ge.subscribe(function(){return console.log("subscribe",Ge.getState())}),o.a.render(r.a.createElement(k.a,{store:Ge},r.a.createElement(Pe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");He?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ue(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Ue(t,e)})}}()},50:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAAAg0lEQVR4AWOgDfhv9H/f/wNAuO+/NjZph//YgAOqIoX/DVigArpZCUBrUGECpoUNGJY14FL0EUx+wqMIaIXo/xtAKPr/CG5FF/8L/Jf9L/VfGMjCY91qMHstPusuAs2QBUJ8JgFdIgJ10zHCvvuIy7ocjHDKwVTE+X8lcngDeZzUT0IAkxfptgF8c5sAAAAASUVORK5CYII="},57:function(e,t,n){e.exports=n(112)},62:function(e,t,n){},64:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){}},[[57,2,1]]]);
//# sourceMappingURL=main.39402459.chunk.js.map